#include <stdio.h>
#define MAX 100
int deque[MAX], front = -1, rear = -1;
void insertFront(int val) {
    if ((front == 0 && rear == MAX-1) || front == rear+1) {
        printf("Overflow\n");
        return;
    }
    if (front == -1) front = rear = 0;
    else if (front == 0) front = MAX-1;
    else front--;
    deque[front] = val;
}
void insertRear(int val) {
    if ((front == 0 && rear == MAX-1) || front == rear+1) {
        printf("Overflow\n");
        return;
    }
    if (rear == -1) front = rear = 0;
    else if (rear == MAX-1) rear = 0;
    else rear++;
    deque[rear] = val;
}
void deleteFront() {
    if (front == -1) {
        printf("Underflow\n");
        return;
    }
    printf("Deleted: %d\n", deque[front]);
    if (front == rear) front = rear = -1;
    else if (front == MAX-1) front = 0;
    else front++;
}
void deleteRear() {
    if (rear == -1) {
        printf("Underflow\n");
        return;
    }
    printf("Deleted: %d\n", deque[rear]);
    if (front == rear) front = rear = -1;
    else if (rear == 0) rear = MAX-1;
    else rear--;
}
void display() {
    if (front == -1) {
        printf("Empty\n");
        return;
    }
    int i = front;
    while (1) {
        printf("%d ", deque[i]);
        if (i == rear) break;
        if (i == MAX-1) i = 0;
        else i++;
    }
    printf("\n");
}
int main() {
    int ch, val;
    while (1) {
        printf("1.InsertFront 2.InsertRear 3.DeleteFront 4.DeleteRear 5.Display 6.Exit\n");
        scanf("%d", &ch);
        if (ch == 1) {
            printf("Value: ");
            scanf("%d", &val);
            insertFront(val);
        }
        else if (ch == 2) {
            printf("Value: ");
            scanf("%d", &val);
            insertRear(val);
        }
        else if (ch == 3) deleteFront();
        else if (ch == 4) deleteRear();
        else if (ch == 5) display();
        else break;
    }
    return 0;
}
