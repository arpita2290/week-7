#include <stdio.h>
#define MAX 100
int queue[MAX], front = 0, rear = -1;
void enqueue(int val) {
    if (rear == MAX - 1) return;
    queue[++rear] = val;
}
int dequeue() {
    if (front > rear) return -1;
    return queue[front++];
}
void display() {
    for (int i = front; i <= rear; i++) printf("%d ", queue[i]);
    printf("\n");
}
void reverseFirstK(int k) {
    if (k > rear - front + 1) return;
    int stack[k], idx = 0;
    for (int i = 0; i < k; i++) stack[idx++] = dequeue();
    for (int i = idx - 1; i >= 0; i--) enqueue(stack[i]);
    int size = rear - front + 1;
    for (int i = 0; i < size - k; i++) enqueue(dequeue());
}
int main() {
    int n, val, k;
    printf("Number of elements: ");
    scanf("%d", &n);
    for (int i = 0; i < n; i++) {
        scanf("%d", &val);
        enqueue(val);
    }
    printf("K to reverse: ");
    scanf("%d", &k);
    reverseFirstK(k);
    display();
    return 0;
}
